<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Sentence → Title Case Converter</title>
    <style>
      :root {
        --bg: #0f1724;
        --card: #0b1220;
        --accent: #06b6d4;
        --muted: #94a3b8;
        --glass: rgba(255, 255, 255, 0.03);
      }
      * {
        box-sizing: border-box;
      }
      body {
        font-family:
          Inter,
          ui-sans-serif,
          system-ui,
          Segoe UI,
          Roboto,
          Helvetica,
          Arial;
        margin: 0;
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(180deg, #071029 0%, #0b1220 100%);
        color: #e6eef6;
      }
      .wrap {
        width: min(900px, 94%);
        padding: 28px;
        border-radius: 12px;
        background: linear-gradient(
          180deg,
          rgba(255, 255, 255, 0.02),
          rgba(255, 255, 255, 0.01)
        );
        box-shadow: 0 6px 30px rgba(2, 6, 23, 0.6);
      }
      h1 {
        margin: 0 0 8px;
        font-size: 20px;
      }
      p.lead {
        margin: 0 0 18px;
        color: var(--muted);
      }
      .grid {
        display: grid;
        gap: 12px;
        grid-template-columns: 1fr 1fr;
      }
      .full {
        grid-column: 1/-1;
      }
      textarea,
      .output {
        width: 100%;
        min-height: 120px;
        padding: 14px;
        border-radius: 8px;
        border: 1px solid rgba(255, 255, 255, 0.04);
        background: var(--card);
        color: inherit;
        font-size: 15px;
        line-height: 1.5;
        resize: vertical;
      }
      .output {
        white-space: pre-wrap;
        overflow: auto;
      }
      .controls {
        display: flex;
        gap: 8px;
        align-items: center;
      }
      button {
        background: var(--accent);
        color: #022;
        border: none;
        padding: 10px 12px;
        border-radius: 8px;
        cursor: pointer;
        font-weight: 600;
      }
      button.secondary {
        background: transparent;
        border: 1px solid rgba(255, 255, 255, 0.06);
        color: var(--muted);
        font-weight: 600;
      }
      .small {
        font-size: 13px;
        padding: 8px 10px;
      }
      .status {
        font-size: 13px;
        color: var(--muted);
      }
      footer {
        margin-top: 14px;
        display: flex;
        justify-content: space-between;
        align-items: center;
        color: var(--muted);
        font-size: 13px;
      }
      @media (max-width: 720px) {
        .grid {
          grid-template-columns: 1fr;
        }
      }
    </style>
  </head>
  <body>
    <main class="wrap" role="main">
      <h1>Sentence → Title Case Converter</h1>
      <p class="lead">
        Type or paste any sentence below — it converts automatically to Title
        Case. Use <strong>Copy</strong> to copy the result.
      </p>

      <div class="grid">
        <div class="full">
          <label
            for="input"
            style="display: block; margin-bottom: 6px; color: var(--muted)"
            >Input</label
          >
          <textarea
            id="input"
            placeholder="Type or paste text here..."
            aria-label="Input text"
          ></textarea>
        </div>

        <div>
          <label
            for="output"
            style="display: block; margin-bottom: 6px; color: var(--muted)"
            >Output (Title Case)</label
          >
          <div
            id="output"
            class="output"
            role="textbox"
            aria-readonly="true"
            tabindex="0"
          ></div>
        </div>

        <div style="display: flex; flex-direction: column; gap: 8px">
          <div
            style="
              display: flex;
              justify-content: space-between;
              align-items: center;
            "
          >
            <div class="controls">
              <button id="copyBtn">Copy</button>
              <button id="pasteBtn" class="secondary small">Paste</button>
              <button id="clearBtn" class="secondary small">Clear</button>
            </div>
          </div>
          <div class="status" id="status">Auto-converts as you type.</div>
        </div>
      </div>

      <footer>
        <div>
          Tip: Press <kbd>Ctrl/⌘ + A</kbd> then <kbd>Ctrl/⌘ + C</kbd> to copy
          from input quickly.
        </div>
        <div>&nbsp;</div>
      </footer>
    </main>

    <script>
      // Debounce helper
      function debounce(fn, wait) {
        let t;
        return function (...args) {
          clearTimeout(t);
          t = setTimeout(() => fn.apply(this, args), wait);
        };
      }

      function toTitleCase(str) {
        if (!str) return "";
        // We want to capitalize the first letter of each word-like substring while
        // keeping punctuation. This regex matches sequences that start with a word char.
        // It will also handle hyphenated words (each hyphen-separated part is treated separately).
        return str.replace(/[^\s]+/g, (token) => {
          // For tokens like "hello-world" or "o'clock" we should capitalize each alpha-subpart
          // Split on hyphen but keep hyphen in result
          return token
            .split(/(-)/)
            .map((part) => {
              // For apostrophes (o'clock) we keep as part of the word; we will capitalize the first alphabetical char
              return part.replace(/[A-Za-zÀ-ÖØ-öø-ÿ]+[^\s]*/g, (word) => {
                // Find first alphabetic char index
                const m = word.match(/[A-Za-zÀ-ÖØ-öø-ÿ]/);
                if (!m) return word;
                const idx = m.index;
                return (
                  word.slice(0, idx) +
                  word.charAt(idx).toUpperCase() +
                  word.slice(idx + 1).toLowerCase()
                );
              });
            })
            .join("");
        });
      }

      // Elements
      const inputEl = document.getElementById("input");
      const outputEl = document.getElementById("output");
      const copyBtn = document.getElementById("copyBtn");
      const pasteBtn = document.getElementById("pasteBtn");
      const clearBtn = document.getElementById("clearBtn");
      const statusEl = document.getElementById("status");

      // Convert and show
      function convertAndShow() {
        const raw = inputEl.value;
        const converted = toTitleCase(raw);
        outputEl.textContent = converted;
      }

      const autoConvert = debounce(() => {
        convertAndShow();
        statusEl.textContent =
          "Converted automatically — last updated " +
          new Date().toLocaleTimeString();
      }, 220);

      inputEl.addEventListener("input", autoConvert);

      // Initial conversion if there's prefilled content
      convertAndShow();

      // Copy
      copyBtn.addEventListener("click", async () => {
        try {
          const text = outputEl.textContent;
          if (!text) {
            statusEl.textContent = "Nothing to copy — output is empty.";
            return;
          }
          await navigator.clipboard.writeText(text);
          statusEl.textContent = "Copied to clipboard ✓";
          // tiny visual feedback
          copyBtn.textContent = "Copied!";
          setTimeout(() => (copyBtn.textContent = "Copy"), 1400);
        } catch (err) {
          statusEl.textContent =
            "Copy failed — your browser may block clipboard access.";
        }
      });

      // Paste (reads from clipboard if allowed)
      pasteBtn.addEventListener("click", async () => {
        try {
          const text = await navigator.clipboard.readText();
          inputEl.value = text;
          convertAndShow();
          statusEl.textContent = "Pasted from clipboard.";
        } catch (err) {
          statusEl.textContent = "Paste failed — clipboard permission denied.";
        }
      });

      // Clear
      clearBtn.addEventListener("click", () => {
        inputEl.value = "";
        outputEl.textContent = "";
        statusEl.textContent = "Cleared.";
      });

      // Allow pressing Ctrl+Enter to copy quickly
      inputEl.addEventListener("keydown", (e) => {
        if ((e.ctrlKey || e.metaKey) && e.key === "Enter") {
          copyBtn.click();
        }
      });

      // Make output selectable with click
      outputEl.addEventListener("click", () => {
        const range = document.createRange();
        range.selectNodeContents(outputEl);
        const sel = window.getSelection();
        sel.removeAllRanges();
        sel.addRange(range);
      });
    </script>
  </body>
</html>
